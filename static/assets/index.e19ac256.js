var Ge=Object.defineProperty;var Ie=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var Re=(e,n,r)=>n in e?Ge(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,A=(e,n)=>{for(var r in n||(n={}))Qe.call(n,r)&&Re(e,r,n[r]);if(Ie)for(var r of Ie(n))Xe.call(n,r)&&Re(e,r,n[r]);return e};import{_ as B,u as z,L as q,S as ne,r as Ye,a as Je,i as Se}from"./index.d7413c26.js";import{I as V,C as h,l as S,m as _,x as k,F as W,h as oe,k as g,W as X,X as P,P as x,z as y,p as F,y as C,s as E,L as Y,i as O,O as J,o as K,Y as ie,t as N,Z as Be,M as pe,w as re,v as ue,K as H,$ as ce,a0 as Ke,q as te,J as ge,r as Z,G as Me,n as ae,T as He,b as ve,E as Ze,A as ke,B as $e,j as de,a1 as et}from"./vendor.14d7a511.js";import{S as tt}from"./sortable.esm.31e56bbd.js";import st from"./parent.55ef82e6.js";var nt="./assets/logo1.4534041c.png";const ot={name:"layoutLogo",setup(){const{proxy:e}=W(),n=z(),r=V(()=>n.state.themeConfig.themeConfig),s=V(()=>{let{isCollapse:b,layout:o}=n.state.themeConfig.themeConfig;return!b||o==="classic"||document.body.clientWidth<1e3});return{logo:nt,setShowLogo:s,getThemeConfig:r,onThemeConfigChange:()=>{if(n.state.themeConfig.themeConfig.layout==="transverse")return!1;e.mittBus.emit("onMenuClick"),n.state.themeConfig.themeConfig.isCollapse=!n.state.themeConfig.themeConfig.isCollapse}}}},it=["src"],at=["src"];function lt(e,n,r,s,f,b){return s.setShowLogo?(h(),S("div",{key:0,class:"layout-logo",onClick:n[0]||(n[0]=(...o)=>s.onThemeConfigChange&&s.onThemeConfigChange(...o))},[_("img",{src:s.logo,class:"layout-logo-medium-img"},null,8,it),_("span",null,k(s.getThemeConfig.globalTitle),1)])):(h(),S("div",{key:1,class:"layout-logo-size",onClick:n[1]||(n[1]=(...o)=>s.onThemeConfigChange&&s.onThemeConfigChange(...o))},[_("img",{src:s.logo,class:"layout-logo-size-img"},null,8,at)]))}var Ee=B(ot,[["render",lt],["__scopeId","data-v-80b821aa"]]);const rt=oe({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(e){return{chils:V(()=>e.chil)}}}),ut=["href"];function ct(e,n,r,s,f,b){const o=g("sub-item",!0),i=g("el-sub-menu"),t=g("el-menu-item");return h(!0),S(P,null,X(e.chils,d=>(h(),S(P,null,[d.children&&d.children.length>0?(h(),x(i,{index:d.path,key:d.path},{title:y(()=>[_("i",{class:F(d.meta.icon)},null,2),_("span",null,k(e.$t(d.meta.title)),1)]),default:y(()=>[C(o,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),x(t,{index:d.path,key:d.path},{default:y(()=>[!d.meta.isLink||d.meta.isLink&&d.meta.isIframe?(h(),S(P,{key:0},[_("i",{class:F(d.meta.icon?d.meta.icon:"")},null,2),_("span",null,k(e.$t(d.meta.title)),1)],64)):(h(),S("a",{key:1,href:d.meta.isLink,target:"_blank",rel:"opener"},[_("i",{class:F(d.meta.icon?d.meta.icon:"")},null,2),E(" "+k(e.$t(d.meta.title)),1)],8,ut))]),_:2},1032,["index"]))],64))),256)}var De=B(rt,[["render",ct]]);const dt=oe({name:"navMenuVertical",components:{SubItem:De},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:n}=W(),r=z(),s=Y(),f=O({defaultActive:s.meta.isDynamic?s.meta.isDynamicPath:s.path,isCollapse:!1}),b=V(()=>e.menuList),o=V(()=>r.state.themeConfig.themeConfig),i=t=>{const{path:d,meta:c}=t,m=c.isDynamic?c.isDynamicPath.split("/"):d.split("/");return m.length>=4&&c.isHide?m.splice(0,3).join("/"):d};return J(r.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?f.isCollapse=!1:f.isCollapse=o.value.isCollapse},{immediate:!0}),K(()=>{f.defaultActive=i(s)}),ie(t=>{f.defaultActive=i(t),n.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(o.value.isCollapse=!1)}),A({menuLists:b,getThemeConfig:o},N(f))}});function mt(e,n,r,s,f,b){const o=g("SubItem"),i=g("el-sub-menu"),t=g("el-menu-item"),d=g("el-menu");return h(),x(d,{router:"","default-active":e.defaultActive,"background-color":"transparent",collapse:e.isCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:y(()=>[(h(!0),S(P,null,X(e.menuLists,c=>(h(),S(P,null,[c.children&&c.children.length>0?(h(),x(i,{index:c.path,key:c.path},{title:y(()=>[_("i",{class:F(c.meta.icon?c.meta.icon:"")},null,2),_("span",null,k(e.$t(c.meta.title)),1)]),default:y(()=>[C(o,{chil:c.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),x(t,{index:c.path,key:c.path},Be({default:y(()=>[_("i",{class:F(c.meta.icon?c.meta.icon:"")},null,2)]),_:2},[!c.meta.isLink||c.meta.isLink&&c.meta.isIframe?{name:"title",fn:y(()=>[_("span",null,k(e.$t(c.meta.title)),1)])}:{name:"title",fn:y(()=>[_("a",{href:c.meta.isLink,target:"_blank",rel:"opener"},k(e.$t(c.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var ft=B(dt,[["render",mt]]);const ht={name:"layoutAside",components:{Logo:Ee,Vertical:ft},setup(){const{proxy:e}=W(),n=z(),r=O({menuList:[],clientWidth:""}),s=V(()=>n.state.themeConfig.themeConfig),f=V(()=>n.state.tagsViewRoutes.isTagsViewCurrenFull),b=V(()=>{const{layout:a,isCollapse:p,menuBar:v}=n.state.themeConfig.themeConfig,R=v==="#FFFFFF"||v==="#FFF"||v==="#fff"||v==="#ffffff"?"layout-el-aside-br-color":"";if(r.clientWidth<=1e3)if(p){document.body.setAttribute("class","el-popup-parent--hidden");const j=document.querySelector(".layout-container"),G=document.createElement("div");return G.setAttribute("class","layout-aside-mobile-mode"),j.appendChild(G),G.addEventListener("click",o),[R,"layout-aside-mobile","layout-aside-mobile-open"]}else return o(),[R,"layout-aside-mobile","layout-aside-mobile-close"];else return a==="columns"?p?[R,"layout-aside-pc-1"]:[R,"layout-aside-pc-220"]:p?[R,"layout-aside-pc-64"]:[R,"layout-aside-pc-220"]}),o=()=>{var p;const a=document.querySelector(".layout-aside-mobile-mode");a&&((p=a.parentNode)==null||p.removeChild(a)),n.state.themeConfig.themeConfig.isCollapse=!1,document.body.setAttribute("class","")},i=V(()=>{let{layout:a,isShowLogo:p}=n.state.themeConfig.themeConfig;return p&&a==="defaults"||p&&a==="columns"}),t=()=>{if(n.state.themeConfig.themeConfig.layout==="columns")return!1;r.menuList=d(n.state.routesList.routesList)},d=a=>a.filter(p=>!p.meta.isHide).map(p=>(p=Object.assign({},p),p.children&&(p.children=d(p.children)),p)),c=a=>{r.clientWidth=a},m=a=>{let{layout:p}=n.state.themeConfig.themeConfig;if(p!=="columns")return!1;a||e.mittBus.emit("restoreDefault"),n.dispatch("routesList/setColumnsMenuHover",a)};return J(n.state.themeConfig.themeConfig,a=>{if(a.isShowLogoChange!==a.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}}),J(n.state,a=>{let{layout:p,isClassicSplitMenu:v}=a.themeConfig.themeConfig;if(p==="classic"&&v)return!1;t()}),pe(()=>{c(document.body.clientWidth),t(),e.mittBus.on("setSendColumnsChildren",a=>{r.menuList=a.children}),e.mittBus.on("setSendClassicChildren",a=>{let{layout:p,isClassicSplitMenu:v}=n.state.themeConfig.themeConfig;p==="classic"&&v&&(r.menuList=[],r.menuList=a.children)}),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{t()}),e.mittBus.on("layoutMobileResize",a=>{c(a.clientWidth),o()})}),A({setCollapseStyle:b,setShowLogo:i,getThemeConfig:s,isTagsViewCurrenFull:f,onAsideEnterLeave:m},N(r))}},pt={class:"h100"};function gt(e,n,r,s,f,b){const o=g("Logo"),i=g("Vertical"),t=g("el-scrollbar"),d=g("el-aside");return re((h(),S("div",pt,[C(d,{class:F(["layout-aside",s.setCollapseStyle])},{default:y(()=>[s.setShowLogo?(h(),x(o,{key:0})):H("",!0),C(t,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:n[0]||(n[0]=c=>s.onAsideEnterLeave(!0)),onMouseleave:n[1]||(n[1]=c=>s.onAsideEnterLeave(!1))},{default:y(()=>[C(i,{menuList:e.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[ue,!s.isTagsViewCurrenFull]])}var Ve=B(ht,[["render",gt]]);const _t={name:"layoutBreadcrumb",setup(){const{proxy:e}=W(),n=z(),r=Y(),s=ce(),f=O({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),b=V(()=>n.state.themeConfig.themeConfig),o=V(()=>{c(r.path);const{layout:m,isBreadcrumb:a}=n.state.themeConfig.themeConfig;return m==="classic"||m==="transverse"?"none":a?"":"none"}),i=m=>{const{redirect:a,path:p}=m;a?s.push(a):s.push(p)},t=()=>{e.mittBus.emit("onMenuClick"),n.state.themeConfig.themeConfig.isCollapse=!n.state.themeConfig.themeConfig.isCollapse},d=m=>{m.map(a=>{f.routeSplit.map((p,v,R)=>{f.routeSplitFirst===a.path&&(f.routeSplitFirst+=`/${R[f.routeSplitIndex]}`,f.breadcrumbList.push(a),f.routeSplitIndex++,a.children&&d(a.children))})})},c=m=>{if(!n.state.themeConfig.themeConfig.isBreadcrumb)return!1;f.breadcrumbList=[n.state.routesList.routesList[0]],f.routeSplit=m.split("/"),f.routeSplit.shift(),f.routeSplitFirst=`/${f.routeSplit[0]}`,f.routeSplitIndex=1,d(n.state.routesList.routesList)};return K(()=>{c(r.path)}),ie(m=>{c(m.path)}),A({onThemeConfigChange:t,isShowBreadcrumb:o,getThemeConfig:b,onBreadcrumbClick:i},N(f))}},Ct={key:0,class:"layout-navbars-breadcrumb-span"},yt=["onClick"];function wt(e,n,r,s,f,b){const o=g("el-breadcrumb-item"),i=g("el-breadcrumb");return h(),S("div",{class:"layout-navbars-breadcrumb",style:ge({display:s.isShowBreadcrumb})},[_("i",{class:F(["layout-navbars-breadcrumb-icon",s.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"]),onClick:n[0]||(n[0]=(...t)=>s.onThemeConfigChange&&s.onThemeConfigChange(...t))},null,2),C(i,{class:"layout-navbars-breadcrumb-hide"},{default:y(()=>[C(Ke,{name:"breadcrumb",mode:"out-in"},{default:y(()=>[(h(!0),S(P,null,X(e.breadcrumbList,(t,d)=>(h(),x(o,{key:t.meta.title},{default:y(()=>[d===e.breadcrumbList.length-1?(h(),S("span",Ct,[s.getThemeConfig.isBreadcrumbIcon?(h(),S("i",{key:0,class:F([t.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):H("",!0),E(k(e.$t(t.meta.title)),1)])):(h(),S("a",{key:1,onClick:te(c=>s.onBreadcrumbClick(t),["prevent"])},[s.getThemeConfig.isBreadcrumbIcon?(h(),S("i",{key:0,class:F([t.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):H("",!0),E(k(e.$t(t.meta.title)),1)],8,yt))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var bt=B(_t,[["render",wt],["__scopeId","data-v-2d877580"]]),ze={exports:{}};/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/(function(e){(function(){var n=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},r=e.exports,s=function(){for(var o,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=0,d=i.length,c={};t<d;t++)if(o=i[t],o&&o[1]in n){for(t=0;t<o.length;t++)c[i[0][t]]=o[t];return c}return!1}(),f={change:s.fullscreenchange,error:s.fullscreenerror},b={request:function(o,i){return new Promise(function(t,d){var c=function(){this.off("change",c),t()}.bind(this);this.on("change",c),o=o||n.documentElement;var m=o[s.requestFullscreen](i);m instanceof Promise&&m.then(c).catch(d)}.bind(this))},exit:function(){return new Promise(function(o,i){if(!this.isFullscreen){o();return}var t=function(){this.off("change",t),o()}.bind(this);this.on("change",t);var d=n[s.exitFullscreen]();d instanceof Promise&&d.then(t).catch(i)}.bind(this))},toggle:function(o,i){return this.isFullscreen?this.exit():this.request(o,i)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,i){var t=f[o];t&&n.addEventListener(t,i,!1)},off:function(o,i){var t=f[o];t&&n.removeEventListener(t,i,!1)},raw:s};if(!s){r?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(b,{isFullscreen:{get:function(){return Boolean(n[s.fullscreenElement])}},element:{enumerable:!0,get:function(){return n[s.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(n[s.fullscreenEnabled])}}}),r?e.exports=b:window.screenfull=b})()})(ze);var _e=ze.exports;const Lt={name:"layoutBreadcrumbUserNews",setup(){const e=O({newsList:[{label:"\u5173\u4E8E\u7248\u672C\u53D1\u5E03\u7684\u901A\u77E5",value:"PandaUi\uFF0C\u57FA\u4E8E vue3 + CompositionAPI + typescript + vite + element plus\uFF0C\u6B63\u5F0F\u53D1\u5E03\u65F6\u95F4\uFF1A2021\u5E7402\u670828\u65E5\uFF01",time:"2020-12-08"},{label:"\u5173\u4E8E\u5B66\u4E60\u4EA4\u6D41\u7684\u901A\u77E5",value:"QQ\u53F7\u7801 2417920382\uFF0C\u6B22\u8FCE\u5C0F\u4F19\u4F34\u5165\u7FA4\u5B66\u4E60\u4EA4\u6D41\u63A2\u8BA8\uFF01",time:"2020-12-08"}]});return A({onAllReadClick:()=>{e.newsList=[]},onGoToGiteeClick:()=>{window.open("https://gitee.com/PandaAdmin/PandaX")}},N(e))}},St={class:"layout-navbars-breadcrumb-user-news"},vt={class:"head-box"},kt={class:"head-box-title"},$t={class:"content-box"},Vt={class:"content-box-msg"},Tt={class:"content-box-time"};function xt(e,n,r,s,f,b){const o=g("el-empty");return h(),S("div",St,[_("div",vt,[_("div",kt,k(e.$t("message.user.newTitle")),1),e.newsList.length>0?(h(),S("div",{key:0,class:"head-box-btn",onClick:n[0]||(n[0]=(...i)=>s.onAllReadClick&&s.onAllReadClick(...i))},k(e.$t("message.user.newBtn")),1)):H("",!0)]),_("div",$t,[e.newsList.length>0?(h(!0),S(P,{key:0},X(e.newsList,(i,t)=>(h(),S("div",{class:"content-box-item",key:t},[_("div",null,k(i.label),1),_("div",Vt,k(i.value),1),_("div",Tt,k(i.time),1)]))),128)):(h(),x(o,{key:1,description:e.$t("message.user.newDesc")},null,8,["description"]))]),e.newsList.length>0?(h(),S("div",{key:0,class:"foot-box",onClick:n[1]||(n[1]=(...i)=>s.onGoToGiteeClick&&s.onGoToGiteeClick(...i))},k(e.$t("message.user.newGo")),1)):H("",!0)])}var Ft=B(Lt,[["render",xt],["__scopeId","data-v-47260562"]]);const At=oe({name:"layoutBreadcrumbSearch",setup(){const e=Z(),{t:n}=Me(),r=z(),s=ce(),f=O({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),b=()=>{f.menuQuery="",f.isShowSearch=!0,d(),ae(()=>{e.value.focus()})},o=()=>{f.isShowSearch=!1},i=(a,p)=>{let v=a?f.tagsViewList.filter(t(a)):f.tagsViewList;p(v)},t=a=>p=>p.path.toLowerCase().indexOf(a.toLowerCase())>-1||p.meta.title.toLowerCase().indexOf(a.toLowerCase())>-1||n(p.meta.title).indexOf(a.toLowerCase())>-1,d=()=>{if(f.tagsViewList.length>0)return!1;r.state.tagsViewRoutes.tagsViewRoutes.map(a=>{a.meta.isHide||f.tagsViewList.push(A({},a))})};return A({layoutMenuAutocompleteRef:e,openSearch:b,closeSearch:o,menuSearch:i,onHandleSelect:a=>{let{path:p,redirect:v}=a;a.meta.isLink&&!a.meta.isIframe?window.open(a.meta.isLink):v?s.push(v):s.push(p),o()},onSearchBlur:()=>{o()}},N(f))}}),It={class:"layout-search-dialog"};function Rt(e,n,r,s,f,b){const o=g("el-autocomplete"),i=g("el-dialog");return h(),S("div",It,[C(i,{modelValue:e.isShowSearch,"onUpdate:modelValue":n[1]||(n[1]=t=>e.isShowSearch=t),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:y(()=>[C(o,{modelValue:e.menuQuery,"onUpdate:modelValue":n[0]||(n[0]=t=>e.menuQuery=t),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{default:y(({item:t})=>[_("div",null,[_("i",{class:F([t.meta.icon,"mr10"])},null,2),E(k(e.$t(t.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var Bt=B(At,[["render",Rt],["__scopeId","data-v-d58bb528"]]);const Mt={name:"layoutBreadcrumbUser",components:{UserNews:Ft,Search:Bt},setup(){const{t:e}=Me(),{proxy:n}=W(),r=ce(),s=z(),f=Je(),b=Z(),o=O({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn",disabledSize:""}),i=V(()=>s.state.userInfos.userInfos),t=V(()=>s.state.themeConfig.themeConfig),d=V(()=>{let{layout:T,isClassicSplitMenu:D}=t.value,Q="";return T==="defaults"||T==="classic"&&!D||T==="columns"?Q=1:Q=null,Q}),c=()=>{if(!_e.isEnabled)return ve.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;_e.toggle(),_e.on("change",()=>{_e.isFullscreen?o.isScreenfull=!0:o.isScreenfull=!1})},m=()=>{n.mittBus.emit("openSetingsDrawer")},a=T=>{T==="logOut"?Ze({closeOnClickModal:!1,closeOnPressEscape:!1,title:e("message.user.logOutTitle"),message:e("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:e("message.user.logOutConfirm"),cancelButtonText:e("message.user.logOutCancel"),beforeClose:(D,Q,le)=>{D==="confirm"?(Q.confirmButtonLoading=!0,Q.confirmButtonText=e("message.user.logOutExit"),setTimeout(()=>{le(),setTimeout(()=>{Q.confirmButtonLoading=!1},300)},700)):le()}}).then(()=>{ne.clear(),Ye(),r.push("/login"),setTimeout(()=>{ve.success(e("message.user.logOutSuccess"))},300)}).catch(()=>{}):T==="wareHouse"?window.open("https://gitee.com/PandaAdmin/PandaX"):r.push(T)},p=()=>{b.value.openSearch()},v=T=>{q.remove("themeConfig"),t.value.globalComponentSize=T,q.set("themeConfig",t.value),n.$ELEMENT.size=T,I(),window.location.reload()},R=T=>{q.remove("themeConfig"),t.value.globalI18n=T,q.set("themeConfig",t.value),n.$i18n.locale=T,$(),f()},j=T=>{n.mittBus.emit("getI18nConfig",n.$i18n.messages[T])},G=()=>{q.remove("themeConfig"),t.value.isLockScreen=!0,t.value.lockScreenTime=0,q.set("themeConfig",t.value)},$=()=>{switch(q.get("themeConfig").globalI18n){case"zh-cn":o.disabledI18n="zh-cn",j("zh-cn");break;case"en":o.disabledI18n="en",j("en");break;case"zh-tw":o.disabledI18n="zh-tw",j("zh-tw");break}},I=()=>{switch(q.get("themeConfig").globalComponentSize){case"":o.disabledSize="";break;case"medium":o.disabledSize="medium";break;case"small":o.disabledSize="small";break;case"mini":o.disabledSize="mini";break}};return K(()=>{q.get("themeConfig")&&($(),I())}),A({getUserInfos:i,onLayoutSetingClick:m,onHandleCommandClick:a,onScreenfullClick:c,onSearchClick:p,onLockClick:G,onComponentSizeChange:v,onLanguageChange:R,searchRef:b,layoutUserFlexNum:d},N(o))}},Pe=e=>(ke("data-v-8a3269dc"),e=e(),$e(),e),Ht={class:"layout-navbars-breadcrumb-user-icon"},Et=["title"],Dt={class:"layout-navbars-breadcrumb-user-icon"},zt=["title"],Pt=E("\u7B80\u4F53\u4E2D\u6587"),qt=E("English"),Ot=["title"],Nt=Pe(()=>_("i",{class:"el-icon-monitor",title:"\u9501\u5C4F"},null,-1)),Ut=[Nt],Wt=["title"],jt={class:"layout-navbars-breadcrumb-user-icon"},Gt=["title"],Qt=["title"],Xt={class:"layout-navbars-breadcrumb-user-link"},Yt=["src"],Jt=Pe(()=>_("i",{class:"el-icon-arrow-down el-icon--right"},null,-1));function Kt(e,n,r,s,f,b){const o=g("el-dropdown-item"),i=g("el-dropdown-menu"),t=g("el-dropdown"),d=g("el-badge"),c=g("UserNews"),m=g("el-popover"),a=g("Search");return h(),S("div",{class:"layout-navbars-breadcrumb-user",style:ge({flex:s.layoutUserFlexNum})},[C(t,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:s.onComponentSizeChange},{dropdown:y(()=>[C(i,null,{default:y(()=>[C(o,{command:"",disabled:e.disabledSize===""},{default:y(()=>[E(k(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),C(o,{command:"medium",disabled:e.disabledSize==="medium"},{default:y(()=>[E(k(e.$t("message.user.dropdownMedium")),1)]),_:1},8,["disabled"]),C(o,{command:"small",disabled:e.disabledSize==="small"},{default:y(()=>[E(k(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"]),C(o,{command:"mini",disabled:e.disabledSize==="mini"},{default:y(()=>[E(k(e.$t("message.user.dropdownMini")),1)]),_:1},8,["disabled"])]),_:1})]),default:y(()=>[_("div",Ht,[_("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,Et)])]),_:1},8,["onCommand"]),C(t,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:s.onLanguageChange},{dropdown:y(()=>[C(i,null,{default:y(()=>[C(o,{command:"zh-cn",disabled:e.disabledI18n==="zh-cn"},{default:y(()=>[Pt]),_:1},8,["disabled"]),C(o,{command:"en",disabled:e.disabledI18n==="en"},{default:y(()=>[qt]),_:1},8,["disabled"])]),_:1})]),default:y(()=>[_("div",Dt,[_("i",{class:F(["iconfont",e.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,zt)])]),_:1},8,["onCommand"]),_("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:n[0]||(n[0]=(...p)=>s.onSearchClick&&s.onSearchClick(...p))},[_("i",{class:"el-icon-search",title:e.$t("message.user.title2")},null,8,Ot)]),_("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:n[1]||(n[1]=(...p)=>s.onLockClick&&s.onLockClick(...p))},Ut),_("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:n[2]||(n[2]=(...p)=>s.onLayoutSetingClick&&s.onLayoutSetingClick(...p))},[_("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,Wt)]),_("div",jt,[C(m,{placement:"bottom",trigger:"click",visible:e.isShowUserNewsPopover,"onUpdate:visible":n[4]||(n[4]=p=>e.isShowUserNewsPopover=p),width:300,"popper-class":"el-popover-pupop-user-news"},{reference:y(()=>[C(d,{"is-dot":!0,onClick:n[3]||(n[3]=p=>e.isShowUserNewsPopover=!e.isShowUserNewsPopover)},{default:y(()=>[_("i",{class:"el-icon-bell",title:e.$t("message.user.title4")},null,8,Gt)]),_:1})]),default:y(()=>[C(He,{name:"el-zoom-in-top"},{default:y(()=>[re(C(c,null,null,512),[[ue,e.isShowUserNewsPopover]])]),_:1})]),_:1},8,["visible"])]),_("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:n[5]||(n[5]=(...p)=>s.onScreenfullClick&&s.onScreenfullClick(...p))},[_("i",{class:F(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,Qt)]),C(t,{"show-timeout":70,"hide-timeout":50,onCommand:s.onHandleCommandClick},{dropdown:y(()=>[C(i,null,{default:y(()=>[C(o,{command:"/home"},{default:y(()=>[E(k(e.$t("message.user.dropdown1")),1)]),_:1}),C(o,{command:"wareHouse"},{default:y(()=>[E(k(e.$t("message.user.dropdown6")),1)]),_:1}),C(o,{command:"/personal"},{default:y(()=>[E(k(e.$t("message.user.dropdown2")),1)]),_:1}),C(o,{command:"/404"},{default:y(()=>[E(k(e.$t("message.user.dropdown3")),1)]),_:1}),C(o,{command:"/401"},{default:y(()=>[E(k(e.$t("message.user.dropdown4")),1)]),_:1}),C(o,{divided:"",command:"logOut"},{default:y(()=>[E(k(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:y(()=>[_("span",Xt,[_("img",{src:s.getUserInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Yt),E(" "+k(s.getUserInfos.userName===""?"test":s.getUserInfos.userName)+" ",1),Jt])]),_:1},8,["onCommand"]),C(a,{ref:"searchRef"},null,512)],4)}var Zt=B(Mt,[["render",Kt],["__scopeId","data-v-8a3269dc"]]);const es=oe({name:"navMenuHorizontal",components:{SubItem:De},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:n}=W(),r=Y(),s=z(),f=O({defaultActive:null}),b=V(()=>e.menuList),o=m=>{const a=m.wheelDelta||-m.deltaY*40;n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+a/4},i=()=>{ae(()=>{let m=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!m)return!1;n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=m.offsetLeft})},t=m=>m.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=t(a.children)),a)),d=m=>{const a=m.split("/");let p={};return t(s.state.routesList.routesList).map((v,R)=>{v.path===`/${a[1]}`&&(v.k=R,p.item=[A({},v)],p.children=[A({},v)],v.children&&(p.children=v.children))}),p},c=m=>{const{path:a,meta:p}=m;if(s.state.themeConfig.themeConfig.layout==="classic")f.defaultActive=`/${a.split("/")[1]}`;else{const v=p.isDynamic?p.isDynamicPath.split("/"):a.split("/");v.length>=4&&p.isHide?f.defaultActive=v.splice(0,3).join("/"):f.defaultActive=a}};return K(()=>{i(),c(r)}),ie(m=>{c(m),n.mittBus.emit("onMenuClick");let{layout:a,isClassicSplitMenu:p}=s.state.themeConfig.themeConfig;a==="classic"&&p&&n.mittBus.emit("setSendClassicChildren",d(m.path))}),A({menuLists:b,onElMenuHorizontalScroll:o},N(f))}}),ts={class:"el-menu-horizontal-warp"};function ss(e,n,r,s,f,b){const o=g("SubItem"),i=g("el-sub-menu"),t=g("el-menu-item"),d=g("el-menu"),c=g("el-scrollbar");return h(),S("div",ts,[C(c,{onWheel:te(e.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:y(()=>[C(d,{router:"","default-active":e.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:y(()=>[(h(!0),S(P,null,X(e.menuLists,m=>(h(),S(P,null,[m.children&&m.children.length>0?(h(),x(i,{index:m.path,key:m.path},{title:y(()=>[_("i",{class:F(m.meta.icon?m.meta.icon:"")},null,2),_("span",null,k(e.$t(m.meta.title)),1)]),default:y(()=>[C(o,{chil:m.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),x(t,{index:m.path,key:m.path},Be({_:2},[!m.meta.isLink||m.meta.isLink&&m.meta.isIframe?{name:"title",fn:y(()=>[_("i",{class:F(m.meta.icon?m.meta.icon:"")},null,2),E(" "+k(e.$t(m.meta.title)),1)])}:{name:"title",fn:y(()=>[_("a",{href:m.meta.isLink,target:"_blank",rel:"opener"},[_("i",{class:F(m.meta.icon?m.meta.icon:"")},null,2),E(" "+k(e.$t(m.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var ns=B(es,[["render",ss],["__scopeId","data-v-1f14e4ca"]]);const os={name:"layoutBreadcrumbIndex",components:{Breadcrumb:bt,User:Zt,Logo:Ee,Horizontal:ns},setup(){const{proxy:e}=W(),n=z(),r=Y(),s=O({menuList:[]}),f=V(()=>n.state.themeConfig.themeConfig),b=V(()=>{let{isShowLogo:m,layout:a}=n.state.themeConfig.themeConfig;return m&&a==="classic"||m&&a==="transverse"}),o=V(()=>{let{layout:m,isClassicSplitMenu:a}=n.state.themeConfig.themeConfig;return m==="transverse"||a&&m==="classic"}),i=()=>{let{layout:m,isClassicSplitMenu:a}=n.state.themeConfig.themeConfig;if(m==="classic"&&a){s.menuList=t(d(n.state.routesList.routesList));const p=c(r.path);e.mittBus.emit("setSendClassicChildren",p)}else s.menuList=d(n.state.routesList.routesList)},t=m=>(m.map(a=>{a.children&&delete a.children}),m),d=m=>m.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=d(a.children)),a)),c=m=>{const a=m.split("/");let p={};return d(n.state.routesList.routesList).map((v,R)=>{v.path===`/${a[1]}`&&(v.k=R,p.item=[A({},v)],p.children=[A({},v)],v.children&&(p.children=v.children))}),p};return K(()=>{i(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{i()})}),de(()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),A({getThemeConfig:f,setIsShowLogo:b,isLayoutTransverse:o},N(s))}},is={class:"layout-navbars-breadcrumb-index"};function as(e,n,r,s,f,b){const o=g("Logo"),i=g("Breadcrumb"),t=g("Horizontal"),d=g("User");return h(),S("div",is,[s.setIsShowLogo?(h(),x(o,{key:0})):H("",!0),C(i),s.isLayoutTransverse?(h(),x(t,{key:1,menuList:e.menuList},null,8,["menuList"])):H("",!0),C(d)])}var ls=B(os,[["render",as],["__scopeId","data-v-d3fd2fd6"]]);const rs=oe({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(e,{emit:n}){const r=O({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"el-icon-refresh-right"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"el-icon-close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"el-icon-circle-close"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"el-icon-folder-delete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{}}),s=V(()=>e.dropdown),f=i=>{n("currentContextmenuClick",Object.assign({},{contextMenuClickId:i},r.item))},b=i=>{r.item=i,i.meta.isAffix?r.dropdownList[1].affix=!0:r.dropdownList[1].affix=!1,o(),setTimeout(()=>{r.isShow=!0},10)},o=()=>{r.isShow=!1};return K(()=>{document.body.addEventListener("click",o)}),de(()=>{document.body.removeEventListener("click",o)}),A({dropdowns:s,openContextmenu:b,closeContextmenu:o,onCurrentContextmenuClick:f},N(r))}}),us=e=>(ke("data-v-e6686d98"),e=e(),$e(),e),cs={class:"el-dropdown-menu"},ds=["onClick"],ms=us(()=>_("div",{class:"el-popper__arrow",style:{left:"10px"}},null,-1));function fs(e,n,r,s,f,b){return h(),x(He,{name:"el-zoom-in-center"},{default:y(()=>[re((h(),S("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:ge(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[_("ul",cs,[(h(!0),S(P,null,X(e.dropdownList,(o,i)=>(h(),S(P,null,[o.affix?H("",!0):(h(),S("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:i,onClick:t=>e.onCurrentContextmenuClick(o.contextMenuClickId)},[_("i",{class:F(o.icon)},null,2),_("span",null,k(e.$t(o.txt)),1)],8,ds))],64))),256))]),ms],4)),[[ue,e.isShow]])]),_:1})}var hs=B(rs,[["render",fs],["__scopeId","data-v-e6686d98"]]);const ps={name:"layoutTagsView",components:{Contextmenu:hs},setup(){const{proxy:e}=W(),n=Z([]),r=Z(),s=Z(),f=Z(),b=z(),o=Y(),i=ce(),t=O({routeActive:"",routePath:o.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),d=V(()=>b.state.themeConfig.themeConfig.tagsStyle),c=V(()=>b.state.themeConfig.themeConfig),m=u=>c.value.isShareTagsView?u.path===t.routePath:u.url===t.routeActive,a=u=>{ne.set("tagsViewList",u)},p=async()=>{t.routeActive=await ee(o),t.routePath=await o.meta.isDynamic?o.meta.isDynamicPath:o.path,t.tagsViewList=[],t.tagsViewRoutesList=b.state.tagsViewRoutes.tagsViewRoutes,v()},v=async()=>{ne.get("tagsViewList")&&c.value.isCacheTagsView?t.tagsViewList=await ne.get("tagsViewList"):(await t.tagsViewRoutesList.map(u=>{u.meta.isAffix&&!u.meta.isHide&&(u.url=ee(u),t.tagsViewList.push(A({},u)))}),await G(o.path,o)),xe(c.value.isShareTagsView?t.routePath:t.routeActive)},R=async(u,l)=>{let L=l.meta.isDynamic?l.meta.isDynamicPath:u;if(t.tagsViewList.filter(M=>M.path===L&&Se(l.meta.isDynamic?M.params?M.params:null:M.query?M.query:null,l.meta.isDynamic?(l==null?void 0:l.params)?l==null?void 0:l.params:null:(l==null?void 0:l.query)?l==null?void 0:l.query:null)).length<=0){let M=t.tagsViewRoutesList.find(U=>U.path===L);if(M.meta.isAffix||M.meta.isLink&&!M.meta.isIframe)return!1;l.meta.isDynamic?M.params=l.params:M.query=l.query,M.url=ee(M),t.tagsViewList.push(A({},M)),a(t.tagsViewList)}},j=(u,l)=>{let L=l.meta.isDynamic?l.meta.isDynamicPath:u;t.tagsViewList.forEach(w=>{w.path===L&&!Se(l.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,l.meta.isDynamic?(l==null?void 0:l.params)?l==null?void 0:l.params:null:(l==null?void 0:l.query)?l==null?void 0:l.query:null)&&(l.meta.isDynamic?w.params=l.params:w.query=l.query,w.url=ee(w),a(t.tagsViewList))})},G=(u,l)=>{ae(async()=>{let L="";if(l&&l.meta.isDynamic){if(c.value.isShareTagsView?await j(u,l):await R(u,l),t.tagsViewList.some(w=>w.path===l.meta.isDynamicPath))return!1;L=t.tagsViewRoutesList.find(w=>w.path===l.meta.isDynamicPath)}else{if(c.value.isShareTagsView?await j(u,l):await R(u,l),t.tagsViewList.some(w=>w.path===u))return!1;L=t.tagsViewRoutesList.find(w=>w.path===u)}if(L.meta.isLink&&!L.meta.isIframe)return!1;l&&l.meta.isDynamic?L.params=(l==null?void 0:l.params)?l==null?void 0:l.params:o.params:L.query=(l==null?void 0:l.query)?l==null?void 0:l.query:o.query,L.url=ee(L),await t.tagsViewList.push(A({},L)),await a(t.tagsViewList)})},$=u=>{e.mittBus.emit("onTagsViewRefreshRouterView",u)},I=u=>{t.tagsViewList.map((l,L,w)=>{l.meta.isAffix||(c.value.isShareTagsView?l.path===u:l.url===u)&&(t.tagsViewList.splice(L,1),setTimeout(()=>{(t.tagsViewList.length===L&&c.value.isShareTagsView?t.routePath===u:t.routeActive===u)?w[w.length-1].meta.isDynamic?i.push({name:w[w.length-1].name,params:w[w.length-1].params}):i.push({path:w[w.length-1].path,query:w[w.length-1].query}):(t.tagsViewList.length!==L&&c.value.isShareTagsView?t.routePath===u:t.routeActive===u)&&(w[L].meta.isDynamic?i.push({name:w[L].name,params:w[L].params}):i.push({path:w[L].path,query:w[L].query}))},0))}),a(t.tagsViewList)},T=u=>{t.tagsViewList=[],t.tagsViewRoutesList.map(l=>{l.meta.isAffix&&!l.meta.isHide&&t.tagsViewList.push(A({},l))}),G(u,o)},D=()=>{t.tagsViewList=[],t.tagsViewRoutesList.map(u=>{u.meta.isAffix&&!u.meta.isHide&&(t.tagsViewList.push(A({},u)),i.push({path:t.tagsViewList[t.tagsViewList.length-1].path}))}),a(t.tagsViewList)},Q=async u=>{const l=t.tagsViewList.find(L=>c.value.isShareTagsView?L.path===u:L.url===u);l.meta.isDynamic?await i.push({name:l.name,params:l.params}):await i.push({name:l.name,query:l.query}),b.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},le=(u,l)=>(ne.get("tagsViewList")?ne.get("tagsViewList"):t.tagsViewList).find(w=>{if(w.path===u&&Se(w.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,l&&Object.keys(l||{}).length>0?l:null))return w;if(w.path===u&&Object.keys(l||{}).length<=0)return w}),Te=async u=>{const l=u.meta.isDynamic?u.params:u.query;if(!le(u.path,l))return ve({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:L,name:w,params:M,query:U,meta:me,url:se}=le(u.path,l);switch(u.contextMenuClickId){case 0:me.isDynamic?await i.push({name:w,params:M}):await i.push({path:L,query:U}),$(o.fullPath);break;case 1:I(c.value.isShareTagsView?L:se);break;case 2:me.isDynamic?await i.push({name:w,params:M}):await i.push({path:L,query:U}),T(L);break;case 3:D();break;case 4:Q(c.value.isShareTagsView?L:se);break}},Oe=(u,l)=>{const{clientX:L,clientY:w}=l;t.dropdown.x=L,t.dropdown.y=w,s.value.openContextmenu(u)},Ne=(u,l)=>{t.tagsRefsIndex=l,i.push(u)},ee=u=>{let l=u.query&&Object.keys(u.query).length>0?u.query:u.params;if(!l||Object.keys(l).length<=0)return u.path;let L="";for(let w in l)L+=l[w];return`${u.meta.isDynamic?u.meta.isDynamicPath:u.path}-${L}`},Ue=()=>{e.$refs.scrollbarRef.update()},We=u=>{e.$refs.scrollbarRef.$refs.wrap.scrollLeft+=u.wheelDelta/4},je=()=>{ae(()=>{if(n.value.length<=0)return!1;let u=n.value[t.tagsRefsIndex],l=t.tagsRefsIndex,L=n.value.length,w=n.value[0],M=n.value[n.value.length-1],U=e.$refs.scrollbarRef.$refs.wrap,me=U.scrollWidth,se=U.offsetWidth,Fe=U.scrollLeft,Le=n.value[t.tagsRefsIndex-1],Ae=n.value[t.tagsRefsIndex+1],fe="",he="";u===w?U.scrollLeft=0:u===M?U.scrollLeft=me-se:(l===0?fe=w.offsetLeft-5:fe=(Le==null?void 0:Le.offsetLeft)-5,l===L?he=M.offsetLeft+M.offsetWidth+5:he=Ae.offsetLeft+Ae.offsetWidth+5,he>Fe+se?U.scrollLeft=he-se:fe<Fe&&(U.scrollLeft=fe)),Ue()})},xe=u=>{ae(async()=>{let l=await t.tagsViewList;t.tagsRefsIndex=l.findIndex(L=>c.value.isShareTagsView?L.path===u:L.url===u),je()})},we=()=>{const u=document.querySelector(".layout-navbars-tagsview-ul");if(!u)return!1;t.sortable&&t.sortable.destroy(),t.sortable=tt.create(u,{animation:300,dataIdAttr:"data-name",disabled:!c.value.isSortableTagsView,onEnd:()=>{const l=[];t.sortable.toArray().map(L=>{t.tagsViewList.map(w=>{w.name===L&&l.push(A({},w))})}),a(l)}})},be=()=>{document.body.clientWidth<1e3?c.value.isSortableTagsView=!1:c.value.isSortableTagsView=!0,we()};return pe(()=>{be(),window.addEventListener("resize",be),e.mittBus.on("onCurrentContextmenuClick",u=>{Te(u)}),e.mittBus.on("openOrCloseSortable",()=>{we()}),e.mittBus.on("openShareTagsView",()=>{c.value.isShareTagsView&&(i.push("/home"),t.tagsViewList=[],t.tagsViewRoutesList.map(u=>{u.meta.isAffix&&!u.meta.isHide&&(u.url=ee(u),t.tagsViewList.push(A({},u)))}))})}),de(()=>{e.mittBus.off("onCurrentContextmenuClick"),e.mittBus.off("openOrCloseSortable"),e.mittBus.off("openShareTagsView"),window.removeEventListener("resize",be)}),et(()=>{n.value=[]}),K(()=>{p(),we()}),ie(async u=>{t.routeActive=ee(u),t.routePath=u.meta.isDynamic?u.meta.isDynamicPath:u.path,await G(u.path,u),xe(c.value.isShareTagsView?t.routePath:t.routeActive)}),J(b.state,u=>{if(u.tagsViewRoutes.tagsViewRoutes.length===t.tagsViewRoutesList.length)return!1;p()}),A({isActive:m,onContextmenu:Oe,getTagsViewRoutes:p,onTagsClick:Ne,tagsRefs:n,contextmenuRef:s,scrollbarRef:r,tagsUlRef:f,onHandleScroll:We,getThemeConfig:c,setTagsStyle:d,refreshCurrentTagsView:$,closeCurrentTagsView:I,onCurrentContextmenuClick:Te},N(t))}},gs=["data-name","onContextmenu","onClick"],_s={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"},Cs=["onClick"],ys=["onClick"];function ws(e,n,r,s,f,b){const o=g("el-scrollbar"),i=g("Contextmenu");return h(),S("div",{class:F(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":s.getThemeConfig.layout==="classic"}])},[C(o,{ref:"scrollbarRef",onWheel:te(s.onHandleScroll,["prevent"])},{default:y(()=>[_("ul",{class:F(["layout-navbars-tagsview-ul",s.setTagsStyle]),ref:"tagsUlRef"},[(h(!0),S(P,null,X(e.tagsViewList,(t,d)=>(h(),S("li",{key:d,class:F(["layout-navbars-tagsview-ul-li",{"is-active":s.isActive(t)}]),"data-name":t.name,onContextmenu:te(c=>s.onContextmenu(t,c),["prevent"]),onClick:c=>s.onTagsClick(t,d),ref:c=>{c&&(s.tagsRefs[d]=c)}},[s.isActive(t)?(h(),S("i",_s)):H("",!0),!s.isActive(t)&&s.getThemeConfig.isTagsviewIcon?(h(),S("i",{key:1,class:F(["layout-navbars-tagsview-ul-li-iconfont",t.meta.icon])},null,2)):H("",!0),_("span",null,k(e.$t(t.meta.title)),1),s.isActive(t)?(h(),S(P,{key:2},[_("i",{class:"el-icon-refresh-right ml5",onClick:n[0]||(n[0]=te(c=>s.refreshCurrentTagsView(e.$route.fullPath),["stop"]))}),t.meta.isAffix?H("",!0):(h(),S("i",{key:0,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:te(c=>s.closeCurrentTagsView(s.getThemeConfig.isShareTagsView?t.path:t.url),["stop"])},null,8,Cs))],64)):H("",!0),t.meta.isAffix?H("",!0):(h(),S("i",{key:3,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:te(c=>s.closeCurrentTagsView(s.getThemeConfig.isShareTagsView?t.path:t.url),["stop"])},null,8,ys))],42,gs))),128))],2)]),_:1},8,["onWheel"]),C(i,{dropdown:e.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:s.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var qe=B(ps,[["render",ws],["__scopeId","data-v-643bec16"]]);const bs={name:"layoutNavBars",components:{BreadcrumbIndex:ls,TagsView:qe},setup(){const e=z();return{setShowTagsView:V(()=>{let{layout:r,isTagsview:s}=e.state.themeConfig.themeConfig;return r!=="classic"&&s})}}},Ls={class:"layout-navbars-container"};function Ss(e,n,r,s,f,b){const o=g("BreadcrumbIndex"),i=g("TagsView");return h(),S("div",Ls,[C(o),s.setShowTagsView?(h(),x(i,{key:0})):H("",!0)])}var vs=B(bs,[["render",Ss],["__scopeId","data-v-6da8bc81"]]);const ks={name:"layoutHeader",components:{NavBarsIndex:vs},setup(){const e=z(),n=V(()=>{let{isTagsview:s,layout:f}=e.state.themeConfig.themeConfig;return s&&f!=="classic"?"84px":"50px"}),r=V(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:n,isTagsViewCurrenFull:r}}};function $s(e,n,r,s,f,b){const o=g("NavBarsIndex"),i=g("el-header");return re((h(),x(i,{class:"layout-header",height:s.setHeaderHeight},{default:y(()=>[C(o)]),_:1},8,["height"])),[[ue,!s.isTagsViewCurrenFull]])}var Ce=B(ks,[["render",$s]]);const Vs={name:"layoutFooter",setup(){const e=O({isDelayFooter:!0});return ie(()=>{e.isDelayFooter=!1,setTimeout(()=>{e.isDelayFooter=!0},800)}),A({},N(e))}},Ts=e=>(ke("data-v-7f97298f"),e=e(),$e(),e),xs={class:"layout-footer mt15"},Fs={class:"layout-footer-warp"},As=Ts(()=>_("div",null,"PandaUi\uFF0CMade by Panda with \u2764\uFE0F",-1)),Is={class:"mt5"};function Rs(e,n,r,s,f,b){return re((h(),S("div",xs,[_("div",Fs,[As,_("div",Is,k(e.$t("message.copyright.one5")),1)])],512)),[[ue,e.isDelayFooter]])}var Bs=B(Vs,[["render",Rs],["__scopeId","data-v-7f97298f"]]);const Ms=oe({name:"layoutMain",components:{LayoutParentView:st,Footer:Bs},setup(){const{proxy:e}=W(),n=Y(),r=z(),s=O({headerHeight:"",currentRouteMeta:{}}),f=V(()=>r.state.themeConfig.themeConfig),b=()=>{let{isTagsview:i}=r.state.themeConfig.themeConfig;return i?s.headerHeight="84px":s.headerHeight="50px"},o=()=>{s.currentRouteMeta=n.meta};return pe(()=>{b(),o()}),J(r.state.themeConfig.themeConfig,i=>{if(s.headerHeight=i.isTagsview?"84px":"50px",i.isFixedHeaderChange!==i.isFixedHeader){if(!e.$refs.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),J(()=>n.path,()=>{s.currentRouteMeta=n.meta}),A({getThemeConfig:f},N(s))}});function Hs(e,n,r,s,f,b){const o=g("LayoutParentView"),i=g("Footer"),t=g("el-scrollbar"),d=g("el-main");return h(),x(d,{class:"layout-main"},{default:y(()=>[C(t,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:ge({minHeight:`calc(100vh - ${e.headerHeight}`,padding:e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:y(()=>[C(o),e.getThemeConfig.isFooter?(h(),x(i,{key:0})):H("",!0)]),_:1},8,["style"])]),_:1})}var ye=B(Ms,[["render",Hs]]);const Es={name:"layoutDefaults",components:{Aside:Ve,Header:Ce,Main:ye},setup(){const{proxy:e}=W(),n=z(),r=Y(),s=V(()=>n.state.themeConfig.themeConfig.isFixedHeader);return J(()=>r.path,()=>{e.$refs.layoutDefaultsScrollbarRef.wrap.scrollTop=0}),{isFixedHeader:s}}};function Ds(e,n,r,s,f,b){const o=g("Aside"),i=g("Header"),t=g("Main"),d=g("el-scrollbar"),c=g("el-container"),m=g("el-backtop");return h(),x(c,{class:"layout-container"},{default:y(()=>[C(o),C(c,{class:F(["flex-center",{"layout-backtop":!s.isFixedHeader}])},{default:y(()=>[s.isFixedHeader?(h(),x(i,{key:0})):H("",!0),C(d,{ref:"layoutDefaultsScrollbarRef",class:F({"layout-backtop":s.isFixedHeader})},{default:y(()=>[s.isFixedHeader?H("",!0):(h(),x(i,{key:0})),C(t)]),_:1},8,["class"])]),_:1},8,["class"]),C(m,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var zs=B(Es,[["render",Ds]]);const Ps={name:"layoutClassic",components:{Aside:Ve,Header:Ce,Main:ye,TagsView:qe},setup(){const e=z();return{getThemeConfig:V(()=>e.state.themeConfig.themeConfig)}}},qs={class:"flex-center layout-backtop"};function Os(e,n,r,s,f,b){const o=g("Header"),i=g("Aside"),t=g("TagsView"),d=g("Main"),c=g("el-container"),m=g("el-backtop");return h(),x(c,{class:"layout-container flex-center"},{default:y(()=>[C(o),C(c,{class:"layout-mian-height-50"},{default:y(()=>[C(i),_("div",qs,[s.getThemeConfig.isTagsview?(h(),x(t,{key:0})):H("",!0),C(d)])]),_:1}),C(m,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var Ns=B(Ps,[["render",Os]]);const Us={name:"layoutTransverse",components:{Header:Ce,Main:ye}};function Ws(e,n,r,s,f,b){const o=g("Header"),i=g("Main"),t=g("el-backtop"),d=g("el-container");return h(),x(d,{class:"layout-container flex-center layout-backtop"},{default:y(()=>[C(o),C(i),C(t,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var js=B(Us,[["render",Ws]]);const Gs={name:"layoutColumnsAside",setup(){const e=Z([]),n=Z(),{proxy:r}=W(),s=z(),f=Y(),b=ce(),o=O({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),i=V(()=>s.state.themeConfig.themeConfig.columnsAsideStyle),t=V(()=>s.state.themeConfig.themeConfig.columnsAsideLayout),d=$=>{o.liIndex=$,n.value.style.top=`${e.value[$].offsetTop+o.difference}px`},c=($,I)=>{d(I);let{path:T,redirect:D}=$;D?b.push(D):b.push(T)},m=($,I)=>{let{path:T}=$;o.liOldPath=T,o.liOldIndex=I,o.liHoverIndex=I,r.mittBus.emit("setSendColumnsChildren",R(T)),s.dispatch("routesList/setColumnsMenuHover",!1),s.dispatch("routesList/setColumnsNavHover",!0),o.isNavHover=!0},a=async()=>{await s.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:$,isColumnsNavHover:I}=s.state.routesList;!$&&!I&&r.mittBus.emit("restoreDefault")},100)},p=$=>{ae(()=>{d($)})},v=()=>{o.columnsAsideList=j(s.state.routesList.routesList);const $=R(f.path);if(Object.keys($).length<=0)return!1;p($.item[0].k),r.mittBus.emit("setSendColumnsChildren",$)},R=$=>{const I=$.split("/");let T={};return o.columnsAsideList.map((D,Q)=>{D.path===`/${I[1]}`&&(D.k=Q,T.item=[A({},D)],T.children=[A({},D)],D.children&&(T.children=D.children))}),T},j=$=>$.filter(I=>!I.meta.isHide).map(I=>(I=Object.assign({},I),I.children&&(I.children=j(I.children)),I)),G=$=>{o.routeSplit=$.split("/"),o.routeSplit.shift();const I=`/${o.routeSplit[0]}`,T=o.columnsAsideList.find(D=>D.path===I);if(!T)return!1;setTimeout(()=>{p(T.k)},0)};return J(s.state,$=>{if($.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?o.difference=3:o.difference=0,!$.routesList.isColumnsMenuHover&&!$.routesList.isColumnsNavHover)o.liHoverIndex=null,r.mittBus.emit("setSendColumnsChildren",R(f.path));else{if(o.liHoverIndex=o.liOldIndex,!o.liOldPath)return!1;r.mittBus.emit("setSendColumnsChildren",R(o.liOldPath))}}),K(()=>{v(),r.mittBus.on("restoreDefault",()=>{o.liOldIndex=null,o.liOldPath=null})}),de(()=>{r.mittBus.off("restoreDefault",()=>{})}),ie($=>{G($.path),r.mittBus.emit("setSendColumnsChildren",R($.path))}),A({columnsAsideOffsetTopRefs:e,columnsAsideActiveRef:n,onColumnsAsideDown:p,setColumnsAsideStyle:i,setColumnsAsidelayout:t,onColumnsAsideMenuClick:c,onColumnsAsideMenuMouseenter:m,onColumnsAsideMenuMouseleave:a},N(o))}},Qs={class:"layout-columns-aside"},Xs=["onClick","onMouseenter","title"],Ys={class:"columns-vertical-title font12"},Js=["href"],Ks={class:"columns-vertical-title font12"};function Zs(e,n,r,s,f,b){const o=g("el-scrollbar");return h(),S("div",Qs,[C(o,null,{default:y(()=>[_("ul",{onMouseleave:n[0]||(n[0]=i=>s.onColumnsAsideMenuMouseleave())},[(h(!0),S(P,null,X(e.columnsAsideList,(i,t)=>(h(),S("li",{key:t,onClick:d=>s.onColumnsAsideMenuClick(i,t),onMouseenter:d=>s.onColumnsAsideMenuMouseenter(i,t),ref:d=>{d&&(s.columnsAsideOffsetTopRefs[t]=d)},class:F({"layout-columns-active":e.liIndex===t,"layout-columns-hover":e.liHoverIndex===t}),title:e.$t(i.meta.title)},[!i.meta.isLink||i.meta.isLink&&i.meta.isIframe?(h(),S("div",{key:0,class:F(s.setColumnsAsidelayout)},[_("i",{class:F(i.meta.icon)},null,2),_("div",Ys,k(e.$t(i.meta.title)&&e.$t(i.meta.title).length>=4?e.$t(i.meta.title).substr(0,s.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(i.meta.title)),1)],2)):(h(),S("div",{key:1,class:F(s.setColumnsAsidelayout)},[_("a",{href:i.meta.isLink,target:"_blank"},[_("i",{class:F(i.meta.icon)},null,2),_("div",Ks,k(e.$t(i.meta.title)&&e.$t(i.meta.title).length>=4?e.$t(i.meta.title).substr(0,s.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(i.meta.title)),1)],8,Js)],2))],42,Xs))),128)),_("div",{ref:"columnsAsideActiveRef",class:F(s.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var en=B(Gs,[["render",Zs],["__scopeId","data-v-7167398f"]]);const tn={name:"layoutColumns",components:{Aside:Ve,Header:Ce,Main:ye,ColumnsAside:en},setup(){const e=z();return{isFixedHeader:V(()=>e.state.themeConfig.themeConfig.isFixedHeader)}}},sn={class:"layout-columns-warp"};function nn(e,n,r,s,f,b){const o=g("ColumnsAside"),i=g("Aside"),t=g("Header"),d=g("Main"),c=g("el-scrollbar"),m=g("el-container"),a=g("el-backtop");return h(),x(m,{class:"layout-container"},{default:y(()=>[C(o),_("div",sn,[C(i),C(m,{class:F(["flex-center layout-backtop",{"layout-backtop":!s.isFixedHeader}])},{default:y(()=>[s.isFixedHeader?(h(),x(t,{key:0})):H("",!0),C(c,{class:F({"layout-backtop":s.isFixedHeader})},{default:y(()=>[s.isFixedHeader?H("",!0):(h(),x(t,{key:0})),C(d)]),_:1},8,["class"])]),_:1},8,["class"])]),C(a,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var on=B(tn,[["render",nn]]);const an={name:"layout",components:{Defaults:zs,Classic:Ns,Transverse:js,Columns:on},setup(){const{proxy:e}=W(),n=z(),r=V(()=>n.state.themeConfig.themeConfig),s=()=>{q.get("oldLayout")||q.set("oldLayout",r.value.layout);const f=document.body.clientWidth;f<1e3?(r.value.isCollapse=!1,e.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:f})):e.mittBus.emit("layoutMobileResize",{layout:q.get("oldLayout")?q.get("oldLayout"):r.value.layout,clientWidth:f})};return pe(()=>{s(),window.addEventListener("resize",s)}),de(()=>{window.removeEventListener("resize",s)}),{getThemeConfig:r}}};function ln(e,n,r,s,f,b){const o=g("Defaults"),i=g("Classic"),t=g("Transverse"),d=g("Columns");return s.getThemeConfig.layout==="defaults"?(h(),x(o,{key:0})):s.getThemeConfig.layout==="classic"?(h(),x(i,{key:1})):s.getThemeConfig.layout==="transverse"?(h(),x(t,{key:2})):s.getThemeConfig.layout==="columns"?(h(),x(d,{key:3})):H("",!0)}var fn=B(an,[["render",ln]]);export{fn as default};
